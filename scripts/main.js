"use strict";$(function(){var o="1b5cb0110257d62bb9777fdadae849fd",e=function(o){return o-273.15},t=function(o){return 1.8*o+32},n=function(){var n=this;n.lat="",n.lon="",n.city=ko.observable(""),n.showTemp=ko.observable(!1),n.kelvinTemp=ko.observable(""),n.fahrenheit=ko.observable(!0),n.iconURL=ko.observable(""),n.description=ko.observable(""),n.celsiusTemp=function(){return Math.round(e(n.kelvinTemp()))+" °C"},n.fahrenheitTemp=function(){return Math.round(t(e(n.kelvinTemp())))+" °F"},n.toggleTemp=function(){n.fahrenheit(!n.fahrenheit())},n.getWeather=function(){var e={lat:n.lat,lon:n.lon,APPID:o};$.ajax({url:"http://api.openweathermap.org/data/2.5/weather",data:e}).done(function(o){console.dir(o),n.kelvinTemp(o.main.temp),n.city(o.name+", "+o.sys.country),n.showTemp(!0),n.iconURL("http://openweathermap.org/img/w/"+o.weather[0].icon+".png"),n.description(o.weather[0].description)})},n.showPosition=function(o){n.lat=o.coords.latitude,n.lon=o.coords.longitude},n.getLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(n.showPosition):console.log("Geolocation is not supported by this browser."),setTimeout(n.getWeather,500)},n.getLocation()};ko.applyBindings(new n)});